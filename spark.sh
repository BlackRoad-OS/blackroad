#!/bin/bash

# Mini sparkline charts
spark() {
  local vals=("$@")
  local chars="▁▂▃▄▅▆▇█"
  for v in "${vals[@]}"; do
    local i=$((v * 8 / 100))
    [ $i -gt 7 ] && i=7
    echo -n "${chars:$i:1}"
  done
}

echo -e "\033[1;35m┌──────────────────────────────────────────────────────────┐\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;37mBLACKROAD OS · METRICS\033[0m                                 \033[1;35m│\033[0m"
echo -e "\033[1;35m├──────────────────────────────────────────────────────────┤\033[0m"
echo -e "\033[1;35m│\033[0m                                                          \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;37mCPU\033[0m  \033[1;36m$(spark 20 35 45 30 55 40 35 50 45 30 25 40)\033[0m  \033[1;36m34%\033[0m       \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;37mMEM\033[0m  \033[1;33m$(spark 60 62 61 65 68 70 72 70 68 65 67 69)\033[0m  \033[1;33m67%\033[0m       \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;37mNET\033[0m  \033[1;32m$(spark 10 80 20 90 15 85 25 70 30 60 40 50)\033[0m  \033[1;32m45%\033[0m       \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;37mGPU\033[0m  \033[1;35m$(spark 80 85 90 88 92 95 90 88 85 90 92 94)\033[0m  \033[1;35m90%\033[0m       \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m                                                          \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;37mAGENT ACTIVITY\033[0m                                         \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;31mL\033[0m \033[1;31m$(spark 50 60 70 80 70 60 70 80 90 80 70 60)\033[0m                     \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;36mA\033[0m \033[1;36m$(spark 90 85 80 90 95 90 85 90 95 90 85 80)\033[0m                     \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;32mO\033[0m \033[1;32m$(spark 70 75 80 75 70 65 70 75 80 85 80 75)\033[0m                     \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;33mP\033[0m \033[1;33m$(spark 40 45 50 55 60 55 50 45 40 45 50 55)\033[0m                     \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;35mE\033[0m \033[1;35m$(spark 30 35 30 35 40 35 30 35 40 35 30 35)\033[0m                     \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m  \033[1;34mC\033[0m \033[1;34m$(spark 95 95 95 95 95 95 95 95 95 95 95 95)\033[0m                     \033[1;35m│\033[0m"
echo -e "\033[1;35m│\033[0m                                                          \033[1;35m│\033[0m"
echo -e "\033[1;35m└──────────────────────────────────────────────────────────┘\033[0m"
